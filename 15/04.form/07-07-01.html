<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=gbk">
        <title>04.form</title>
        <link rel="stylesheet" type="text/css" href="../../resources/css/ext-all.css" />
        <script type="text/javascript" src="../../adapter/ext/ext-base.js"></script>
        <script type="text/javascript" src="../../ext-all.js"></script>
        <script type="text/javascript">
Ext.onReady(function(){
    var dataProvince = [
        ['河北','河北'],
        ['内蒙古','内蒙古']
    ];
    var dataCityHebei = [
        ['唐山','唐山'],
        ['秦皇岛','秦皇岛'],
        ['承德','承德'],
        ['张家口','张家口']
    ];
    var dataCityNeimenggu = [
        ['呼和浩特','呼和浩特'],
        ['包头','包头']
    ];
    // 其中：遵化、迁安为县级市。
    var dataCountyTangshan = [
        ['路南区','路南区'],
        ['路北区','路北区'],
        ['开平区','开平区'],
        ['古冶区','古冶区'],
        ['丰润区','丰润区'],
        ['丰南区','丰南区'],
        ['玉田','玉田'],
        ['遵化','遵化'],
        ['迁西','迁西'],
        ['迁安','迁安'],
        ['滦县','滦县'],
        ['滦南','滦南'],
        ['乐亭','乐亭'],
        ['唐海','唐海']
    ];
    var dataCountyUnknow = [
        ['不知道','不知道']
    ];

    var storeProvince = new Ext.data.SimpleStore({
        fields: ['value', 'text'],
        data: dataProvince
    });
    var storeCity = new Ext.data.SimpleStore({
        fields: ['value', 'text'],
        data: []
    });
    var storeCounty = new Ext.data.SimpleStore({
        fields: ['value', 'text'],
        data: []
    });

    var comboProvince = new Ext.form.ComboBox({
        store: storeProvince,
        emptyText: '请选择',
        mode: 'local',
        triggerAction: 'all',
        valueField: 'value',
        displayField: 'text',
        readOnly: true,
        applyTo: 'comboProvince'
    });
    var comboCity = new Ext.form.ComboBox({
        store: storeCity,
        emptyText: '请选择',
        mode: 'local',
        triggerAction: 'all',
        valueField: 'value',
        displayField: 'text',
        readOnly: true,
        applyTo: 'comboCity'
    });
    var comboCounty = new Ext.form.ComboBox({
        store: storeCounty,
        emptyText: '请选择',
        mode: 'local',
        triggerAction: 'all',
        valueField: 'value',
        displayField: 'text',
        readOnly: true,
        applyTo: 'comboCounty'
    });

    comboProvince.on('select', function(comboBox){
        var province = comboBox.getValue();
        if (province == '河北') {
            storeCity.loadData(dataCityHebei);
        } else if (province == '内蒙古') {
            storeCity.loadData(dataCityNeimenggu);
        }
    });
    comboCity.on('select', function(comboBox){
        var city = comboBox.getValue();
        if (city == '唐山') {
            storeCounty.loadData(dataCountyTangshan);
        } else {
            storeCounty.loadData(dataCountyUnknow);
        }
    });
    comboCounty.on('select', function(comboBox){
        alert(comboProvince.getValue() + '-' + comboCity.getValue() + '-' + comboCounty.getValue());
    });
});
        </script>
    </head>
    <body>
        <script type="text/javascript" src="../shared/examples.js"></script>
        <br /><br /><br />
        <h3>唐山市简介</h3>
        <br />
        <p>唐山北依燕山，南滨渤海，地处北京、天津、承德、奏皇岛诸城市之间，地理位置优越，交通便捷。全市总面积13472平方公里，人口684万。</p>
        <br /><br /><br />
        <div style="text-align:center;">
            <input id="comboProvince" type="text"/>
            <input id="comboCity" type="text"/>
            <input id="comboCounty" type="text"/>
        </div>
    </body>
</html>
